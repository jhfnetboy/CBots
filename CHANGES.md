# CBots 变更日志

## 版本 0.23.44 (2024-04-01)
- 修复图片发送扩展名问题，使用 force_document=True 参数强制作为文档发送图片
- 更新 web_service.py 中的端口配置，根据 MODE 环境变量选择不同的端口
- 开发环境 (MODE=dev) 使用 DEV_PORT (默认 8873)
- 生产环境使用 PRD_PORT (默认 8872)

## 版本 0.23.43 (2024-04-01)
- 修改 web_service.py 中的端口配置，从环境变量加载 PORT，默认为 8873
- 优化项目结构，明确 image_sender.py 的职责和接口

## 版本 0.23.42 (2024-04-01)
- 修复 Telegram 发送图片时的扩展名问题
- 创建独立的图片发送功能模块 (image_sender.py)
- 确保图片 BytesIO 对象带有正确的文件名和扩展名属性
- 优化图片处理逻辑，支持从 Base64 和 URL 正确提取扩展名
- 统一图片处理方式，使用固定的扩展名格式 (jpeg) 确保兼容性
- 改进错误处理和日志记录 